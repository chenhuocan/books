# å¸¸é‡&amp;å˜é‡

### ä»€ä¹ˆæ˜¯å¸¸é‡å’Œå˜é‡

*   åœ¨Swiftä¸­è§„å®š:åœ¨å®šä¹‰ä¸€ä¸ªæ ‡è¯†ç¬¦æ—¶å¿…é¡»æ˜ç¡®è¯´æ˜è¯¥æ ‡è¯†ç¬¦æ˜¯ä¸€ä¸ªå¸¸é‡è¿˜æ˜¯å˜é‡
*   ä½¿ç”¨letæ¥å®šä¹‰å¸¸é‡,å®šä¹‰ä¹‹åä¸å¯ä»¥ä¿®æ”¹
*   ä½¿ç”¨varæ¥å®šä¹‰å˜é‡,å®šä¹‰ä¹‹åå¯ä»¥ä¿®æ”¹

### å¸¸é‡å’Œå˜é‡çš„åŸºæœ¬ä½¿ç”¨

### å¸¸é‡å’Œå˜é‡çš„ä½¿ç”¨æ³¨æ„:

*   æ³¨æ„:
*   åœ¨çœŸå®ä½¿ç”¨è¿‡ç¨‹ä¸­,å»ºè®®å…ˆå®šä¹‰å¸¸é‡,å¦‚æœéœ€è¦ä¿®æ”¹å†ä¿®æ”¹ä¸ºå˜é‡(æ›´åŠ å®‰å…¨)
*   æ˜¯æŒ‡å‘çš„å¯¹è±¡ä¸å¯ä»¥å†è¿›è¡Œä¿®æ”¹.ä½†æ˜¯å¯ä»¥é€šè¿‡æŒ‡é’ˆè·å¾—å¯¹è±¡å,ä¿®æ”¹å¯¹è±¡å†…éƒ¨çš„å±æ€§


```
//
//  main.swift
//  å¸¸é‡å˜é‡
//
//  Created by æå—æ±Ÿ on 15/2/28.
//  Copyright (c) 2015å¹´ 520it. All rights reserved.
//

import Foundation

/*
è¾“å‡º:
C: printf("Hello, World!");
OC:NSLog(@"Hello, World!");
Swift1.2:println("Hello, World!")
Swift2.0:print("Hello, World!")
*/
print("Hello, World!")

/*
â€œä½¿ç”¨letæ¥å£°æ˜å¸¸é‡ï¼Œä½¿ç”¨varæ¥å£°æ˜å˜é‡â€

å˜é‡:
OC:
>å…ˆå®šä¹‰å†åˆå§‹åŒ–
int num;
num = 10;

>å®šä¹‰çš„åŒæ—¶åˆå§‹åŒ–
int num2 = 20;

Swift:
>å…ˆå®šä¹‰å†åˆå§‹åŒ–
var num
æŠ¥é”™: æ²¡æœ‰æŒ‡å®šæ•°æ®ç±»å‹(type annotation missing in pattern), åœ¨Swiftä¸­å¦‚æœæƒ³è¦å…ˆå®šä¹‰ä¸€ä¸ªå˜é‡, ä»¥åä½¿ç”¨æ—¶å†åˆå§‹åŒ–å¿…é¡»åœ¨å®šä¹‰æ—¶å‘Šè¯‰ç¼–è¯‘å™¨å˜é‡çš„ç±»å‹(ç±»å‹æ ‡æ³¨)
*/
var num: Int
num = 10

/*
>å®šä¹‰çš„åŒæ—¶åˆå§‹åŒ–
åœ¨Swiftä¸­å¦‚æœå®šä¹‰çš„åŒæ—¶åˆå§‹åŒ–ä¸€ä¸ªå˜é‡,å¯ä»¥ä¸ç”¨å†™æ•°æ®ç±»å‹, ç¼–è¯‘æœŸä¼šæ ¹æ®åˆå§‹åŒ–çš„å€¼è‡ªåŠ¨æ¨æ–­å‡ºå˜é‡çš„ç±»å‹(å…¶å®ƒè¯­è¨€æ˜¯æ²¡æœ‰ç±»å‹æ¨æ–­çš„)
ä»¥ååœ¨å¼€å‘ä¸­å¦‚æœåœ¨å®šä¹‰çš„åŒæ—¶åˆå§‹åŒ–å°±æ²¡æœ‰å¿…è¦æŒ‡å®šæ•°æ®ç±»å‹, é™¤ééœ€è¦æ˜ç¡®æ•°æ®ç±»å‹çš„é•¿åº¦æˆ–è€…å®šä¹‰æ—¶ä¸åˆå§‹åŒ–æ‰éœ€è¦æŒ‡å®šæ•°æ®ç±»å‹
*/
var num2: Int = 20
var num3 = 20

/*
â€œä½ å¯ä»¥ç”¨ä»»ä½•ä½ å–œæ¬¢çš„å­—ç¬¦ä½œä¸ºå¸¸é‡å’Œå˜é‡åï¼ŒåŒ…æ‹¬ Unicode å­—ç¬¦ï¼šâ€
â€œå¸¸é‡ä¸å˜é‡åä¸èƒ½åŒ…å«æ•°å­¦ç¬¦å·ï¼Œç®­å¤´ï¼Œä¿ç•™çš„ï¼ˆæˆ–è€…éæ³•çš„ï¼‰Unicode ç ä½ï¼Œè¿çº¿ä¸åˆ¶è¡¨ç¬¦ã€‚ä¹Ÿä¸èƒ½ä»¥æ•°å­—å¼€å¤´ï¼Œä½†æ˜¯å¯ä»¥åœ¨å¸¸é‡ä¸å˜é‡åçš„å…¶ä»–åœ°æ–¹åŒ…å«æ•°å­—ã€‚â€
é”™è¯¯:
var 3x = 10
var x+-3 = 10
*/
var ğŸ¶ = 100
var å“ˆå“ˆ = 300

/*
å¸¸é‡:
OC: const int num = 10;
Swift: let num = 10

é”™è¯¯:
let num : Int
Swiftä¸­çš„å¸¸é‡å¿…é¡»åœ¨å®šä¹‰æ—¶åˆå§‹åŒ–(OCå¯ä»¥ä¸åˆå§‹åŒ–), å¦åˆ™ä¼šæŠ¥é”™
å¸¸é‡çš„ç”¨é€”: æŸäº›å€¼ä»¥åä¸éœ€è¦æ”¹å˜, ä¾‹å¦‚èº«ä»½è¯
*/
let num4 = 10

```

```html
//
//  main.swift
//  å±æ€§
//
//  Created by æå—æ±Ÿ on 15/4/4.
//  Copyright (c) 2015å¹´ 520it. All rights reserved.
//

import Foundation

/*
å­˜å‚¨å±æ€§
å…¶å®Swiftä¸­çš„å­˜å‚¨å±æ€§å°±æ˜¯ä»¥å‰å­¦ä¹ OCä¸­çš„æ™®é€šå±æ€§, åœ¨ç»“æ„ä½“æˆ–è€…ç±»ä¸­å®šä¹‰çš„å±æ€§, é»˜è®¤å°±æ˜¯å­˜å‚¨å±æ€§
*/

struct Person {
    var name: String
    var age: Int
}
var p:Person = Person(name: "lnj", age: 30)
p.name = "hm"
p.age = 50


/*
å¸¸é‡å­˜å‚¨å±æ€§
å¸¸é‡å­˜å‚¨å±æ€§åªèƒ½åœ¨å®šä¹‰æ—¶æˆ–æ„é€ æ—¶ä¿®æ”¹, æ„é€ å¥½ä¸€ä¸ªå¯¹è±¡ä¹‹åä¸èƒ½å¯¹å¸¸é‡å­˜å‚¨å±æ€§è¿›è¡Œä¿®æ”¹
*/

struct Person2 {
    var name: String
    var age: Int
    let card: String // èº«ä»½è¯
}
var p2: Person2 = Person2(name: "lnj", age: 30, card: "123456")
p2.name = "hm"
p2.age = 50
// æ„é€ å¥½å¯¹è±¡ä¹‹åä¸èƒ½ä¿®æ”¹å¸¸é‡å­˜å‚¨å±æ€§
//p2.card = "56789"


/*
ç»“æ„ä½“å’Œç±»å¸¸é‡ä¸å­˜å‚¨å±æ€§çš„å…³ç³»
ç»“æ„ä½“å’Œæšä¸¾æ˜¯å€¼ç±»å‹
ç±»æ˜¯å¼•ç”¨ç±»å‹
*/

struct Person3 {
    var name: String
    var age: Int
}
let p3: Person3 = Person3(name: "lnj", age: 30)
// å› ä¸ºç»“æ„ä½“æ˜¯å€¼ç±»å‹, æ‰€ä»¥ä¸èƒ½ä¿®æ”¹ç»“æ„ä½“å¸¸é‡ä¸­çš„å±æ€§
// ä¸èƒ½ä¿®æ”¹ç»“æ„ä½“/æšä¸¾å¸¸é‡å¯¹è±¡ä¸­çš„å€¼, å› ä¸ºä»–æŒ‡å‘çš„å¯¹è±¡æ˜¯ä¸€ä¸ªå¸¸é‡
//p3.name = "hm"
// ä¸èƒ½ä¿®æ”¹ç»“æ„ä½“å¸¸é‡å¯¹è±¡çš„å€¼
//p3 = Person(name: "hm", age: 50)


class Person4 {
    var name: String = "lnj"
    var age: Int = 30
}
let p4:Person4 = Person4()
// å¯ä»¥ä¿®æ”¹ç±»å¸¸é‡ä¸­çš„å€¼, å› ä¸ºä»–æŒ‡å‘çš„å¯¹è±¡ä¸æ˜¯ä¸€ä¸ªå¸¸é‡
p4.name = "hm"
// ä¸å¯ä»¥ä¿®æ”¹ç±»å¸¸é‡çš„æŒ‡å‘
//p4 = Person4()


/*
å»¶è¿Ÿå­˜å‚¨å±æ€§
Swiftè¯­è¨€ä¸­æ‰€æœ‰çš„å­˜å‚¨å±æ€§å¿…é¡»æœ‰åˆå§‹å€¼, ä¹Ÿå°±æ˜¯å½“æ„é€ å®Œä¸€ä¸ªå¯¹è±¡å, å¯¹è±¡ä¸­æ‰€æœ‰çš„å­˜å‚¨å±æ€§å¿…é¡»æœ‰åˆå§‹å€¼, ä½†æ˜¯ä¹Ÿæœ‰ä¾‹å¤–, å…¶ä¸­å»¶è¿Ÿå­˜å‚¨å±æ€§å¯ä»¥å°†å±æ€§çš„åˆå§‹åŒ–æ¨è¿Ÿåˆ°è¯¥å±æ€§ç¬¬ä¸€æ¬¡è¢«è°ƒç”¨çš„æ—¶å€™
æ‡’åŠ è½½åº”ç”¨åœºæ™¯:
    1.æœ‰å¯èƒ½ä¸ä¼šç”¨åˆ°
    2.ä¾èµ–äºå…¶å®ƒå€¼
*/

class Line {
    var start:Double = 0.0
    var end: Double = 0.0
    // å¦‚æœä¸æ˜¯lazyå±æ€§, å®šä¹‰çš„æ—¶å€™å¯¹è±¡è¿˜æ²¡æœ‰åˆå§‹åŒ–, æ‰€ä»¥ä¸èƒ½è®¿é—®self
    // å¦‚æœåŠ ä¸Šlazy, ä»£è¡¨ä½¿ç”¨æ—¶æ‰ä¼šåŠ è½½, ä¹Ÿå°±æ˜¯ä½¿ç”¨åˆ°lengthå±æ€§æ—¶æ‰ä¼šè°ƒç”¨self,
    // è€Œè®¿é—®ä¸€ä¸ªç±»çš„å±æ€§å¿…é¡»é€šè¿‡å¯¹è±¡æ–¹æ³•, æ‰€ä»¥è®¿é—®æ—¶å¯¹è±¡å·²ç»åˆå§‹åŒ–å®Œæˆäº†, å¯ä»¥ä½¿ç”¨self
    lazy var length: Double = self.getLenght()
    // é€šè¿‡é—­åŒ…æ‡’åŠ è½½
    lazy var container: Array<AnyObject> = {
        print("æ‡’åŠ è½½")
//        return self.end - self.start
        var arrM = []
        return arrM as [AnyObject]
    }()
    func getLenght() ->Double
    {
        print("æ‡’åŠ è½½")
        return end - start
    }
}
var line = Line()
line.end = 150.0
//print(line.getLenght())
print("åˆ›å»ºå¯¹è±¡å®Œæ¯•")
print(line.length)
var arrM = line.container
arrM.append("1")
arrM.append(5)
print(arrM)


/*
è®¡ç®—å±æ€§
1.Swiftä¸­çš„è®¡ç®—å±æ€§ä¸ç›´æ¥å­˜å‚¨å€¼, è·Ÿå­˜å‚¨å±æ€§ä¸åŒ, æ²¡æœ‰ä»»ä½•çš„"åç«¯å­˜å‚¨ä¸ä¹‹å¯¹åº”"
2.è®¡ç®—å±æ€§ç”¨äºè®¡ç®—, å¯ä»¥å®ç°setterå’Œgetterè¿™ä¸¤ç§è®¡ç®—æ–¹æ³•
3.æšä¸¾ä¸å¯ä»¥æœ‰å­˜å‚¨å±æ€§, ä½†æ˜¯å…è®¸æœ‰è®¡ç®—å±æ€§
setter å¯¹è±¡.å±æ€§ = å€¼
getter var value = å¯¹è±¡.å±æ€§
*/

struct Rect {
    var origion: (x: Double, y: Double) = (0, 0)
    var size: (w: Double, h: Double) = (0, 0)
    // ç”±äºcenterçš„å€¼æ˜¯é€šè¿‡èµ·ç‚¹å’Œå®½é«˜è®¡ç®—å‡ºæ¥çš„, æ‰€ä»¥æ²¡æœ‰å¿…è¦æä¾›ä¸€ä¸ªå­˜å‚¨å±æ€§
//    var center: (x: Double, y: Double) = (0, 0)
    var center: (x: Double, y: Double) {
        get{
//            print("get")
           return (origion.x + size.w/2, origion.y + size.h/2)
        }
//        set(newCenter){
        set{
//            print("set \(newCenter)")
            // æ³¨æ„: è®¡ç®—å±æ€§ä¸å…·å¤‡å­˜å‚¨åŠŸèƒ½, æ‰€ä»¥ä¸èƒ½ç»™è®¡ç®—å±æ€§èµ‹å€¼, å¦‚æœèµ‹å€¼ä¼šå‘ç”Ÿè¿è¡Œæ—¶é”™è¯¯
            // æ³¨æ„: setterå¯ä»¥è‡ªå·±ä¼ é€’ä¸€ä¸ªå‚æ•°, ä¹Ÿå¯ä»¥ä½¿ç”¨ç³»ç»Ÿé»˜è®¤çš„å‚æ•°newValue
            // å¦‚æœè¦ä½¿ç”¨ç³»ç»Ÿè‡ªå¸¦çš„å‚æ•°, å¿…é¡»åˆ é™¤è‡ªå®šä¹‰å‚æ•°
//            origion.x = newCenter.x - size.w / 2
//            origion.y = newCenter.y - size.h / 2
            origion.x = newValue.x - size.w / 2
            origion.y = newValue.y - size.h / 2
        }
    }
}
var r = Rect()
r.origion = (0, 0)
r.size = (100, 100)
//r.center = ((r.origion.x + r.size.w) / 2, (r.origion.y + r.size.h) / 2)
print("center.x = \(r.center.x) center.y = \(r.center.y)")
r.center = (100, 100)
print("origion.x = \(r.origion.x) origion.y = \(r.origion.y)")
print("center.x = \(r.center.x) center.y = \(r.center.y)")



/*
åªè¯»è®¡ç®—å±æ€§
å¯¹åº”OCä¸­çš„readonlyå±æ€§, æ‰€è°“çš„åªè¯»å±æ€§å°±æ˜¯åªæä¾›äº†getteræ–¹æ³•, æ²¡æœ‰æä¾›setteræ–¹æ³•
*/

class Line2 {
    var start:Double = 0.0
    var end: Double = 0.0
    // åªè¯»å±æ€§, åªè¯»å±æ€§å¿…é¡»æ˜¯å˜é‡var, ä¸èƒ½æ˜¯å¸¸é‡let
    // ä¾‹å¦‚æƒ³è·å–é•¿åº¦, åªèƒ½é€šè¿‡è®¡ç®—è·å¾—, è€Œä¸éœ€è¦å¤–ç•Œè®¾ç½®, å¯ä»¥è®¾ç½®ä¸ºåªè¯»è®¡ç®—å±æ€§
    var length: Double{
        // åªè¯»å±æ€§çš„ç®€å†™, å¯ä»¥çœç•¥get{}
//        get{
            return end - start
//        }
    }
}

var line2 = Line2()
line2.end = 100
print(line2.length)


/*
å±æ€§è§‚å¯Ÿå™¨,ç±»ä¼¼OCä¸­çš„KVO, å¯ä»¥ç”¨äºç›‘å¬å±æ€§ä»€ä¹ˆæ—¶å€™è¢«ä¿®æ”¹, åªæœ‰å±æ€§è¢«ä¿®æ”¹æ‰ä¼šè°ƒç”¨
æœ‰ä¸¤ç§å±æ€§è§‚å¯Ÿå™¨:
1.willSet, åœ¨è®¾ç½®æ–°å€¼ä¹‹å‰è°ƒç”¨
2.didSet, åœ¨è®¾ç½®æ–°å€¼ä¹‹åè°ƒç”¨
å¯ä»¥ç›´æ¥ä¸ºé™¤è®¡ç®—å±æ€§å’Œlazyå±æ€§ä¹‹å¤–çš„å­˜å‚¨å±æ€§æ·»åŠ å±æ€§è§‚å¯Ÿå™¨, ä½†æ˜¯å¯ä»¥åœ¨ç»§æ‰¿ç±»ä¸­ä¸ºçˆ¶ç±»çš„è®¡ç®—å±æ€§æä¾›å±æ€§è§‚å¯Ÿå™¨
å› ä¸ºåœ¨è®¡ç®—å±æ€§ä¸­ä¹Ÿå¯ä»¥ç›‘å¬åˆ°å±æ€§çš„æ”¹å˜, æ‰€ä»¥ç»™è®¡ç®—å±æ€§æ·»åŠ å±æ€§è§‚å¯Ÿå™¨æ²¡æœ‰ä»»ä½•æ„ä¹‰
*/
class Line3 {
    var start:Double = 0.0{
        willSet{
            print("willSet newValue = \(newValue)")
        }
        didSet{
            print("didSet oldValue = \(oldValue)")
        }
    }
    var end: Double = 0.0
}
var l = Line3()
l.start = 10.0


/*
ç±»å±æ€§
åœ¨ç»“æ„ä½“å’Œæšä¸¾ä¸­ç”¨static
åœ¨ç±»ä¸­ä½¿ç”¨class, å¹¶ä¸”ç±»ä¸­ä¸å…è®¸å°†å­˜å‚¨å±æ€§è®¾ç½®ä¸ºç±»å±æ€§
*/

struct Person5 {
    // æ™®é€šçš„å±æ€§æ˜¯æ¯ä¸ªå¯¹è±¡ä¸€ä»½
    var name: String = "lnj"
    // ç±»å±æ€§æ˜¯ç´ æœ‰å¯¹è±¡å…±ç”¨ä¸€ä»½
    static var gender:String = "man"
    static var age:Int{
        return 30
    }
    func show()
    {
        print("gender = \(Person5.gender) name = \(name)")
    }
}
var p5 = Person5()
//print("gender = \(p.gender)")
print("gender = \(Person5.gender)")
var p6 = Person5()
// ç±»å±æ€§æ˜¯æ‰€æœ‰å¯¹è±¡å…±ç”¨ä¸€ä»½
print("gender = \(Person5.gender)")
p5.show()
// å¯ä»¥å°†è®¡ç®—å±æ€§è®¾ç½®ä¸ºç±»å±æ€§
print("age = \(Person5.age)")



class Person6 {
    // æ™®é€šçš„å±æ€§æ˜¯æ¯ä¸ªå¯¹è±¡ä¸€ä»½
    var name: String = "lnj"
    // ç±»ä¸­ä¸å…è®¸å°†å­˜å‚¨å±æ€§å®šä¹‰ä¸ºç±»å±æ€§
//    class var gender:String = "man"
    // ç±»ä¸­åªèƒ½å°†è®¡ç®—å±æ€§å®šä¹‰ä¸ºç±»å±æ€§
    class var age:Int{
        return 30
    }
    func show()
    {
        print("age = \(Person6.age)")
    }
}
var p7 = Person6()
print("age = \(Person6.age)")
p7.show()

```

```html
//
//  main.swift
//  å†…å­˜ç›¸å…³
//
//  Created by æå—æ±Ÿ on 15/4/5.
//  Copyright (c) 2015å¹´ 520it. All rights reserved.
//

import Foundation
/*
Swiftå†…å­˜ç®¡ç†:
ç®¡ç†å¼•ç”¨ç±»å‹çš„å†…å­˜, ä¸ä¼šç®¡ç†å€¼ç±»å‹, å€¼ç±»å‹ä¸éœ€è¦ç®¡ç†
å†…å­˜ç®¡ç†åŸåˆ™: å½“æ²¡æœ‰ä»»ä½•å¼ºå¼•ç”¨æŒ‡å‘å¯¹è±¡, ç³»ç»Ÿä¼šè‡ªåŠ¨é”€æ¯å¯¹è±¡
(é»˜è®¤æƒ…å†µä¸‹æ‰€æœ‰çš„å¼•ç”¨éƒ½æ˜¯å¼ºå¼•ç”¨)
å¦‚æœåšåˆ°è¯¥åŸåˆ™: ARC
*/

class Person {
    var name:String
    init(name:String){
        self.name = name
    }
    deinit{
        print("deinit")
    }
}
var p:Person? = Person(name: "lnj")
//p = nil


/*
weakå¼±å¼•ç”¨
*/

class Person2 {
    var name:String
    init(name:String){
        self.name = name
    }
    deinit{
        print("deinit")
    }
}
// å¼ºå¼•ç”¨, å¼•ç”¨è®¡æ•°+1
var strongP = Person2(name: "lnj") // 1
var strongP2 = strongP // 2

// å¼±å¼•ç”¨, å¼•ç”¨è®¡æ•°ä¸å˜
// å¦‚æœåˆ©ç”¨weakä¿®é¥°å˜é‡, å½“å¯¹è±¡é‡Šæ”¾åä¼šè‡ªåŠ¨å°†å˜é‡è®¾ç½®ä¸ºnil
// æ‰€ä»¥åˆ©ç”¨weakä¿®é¥°çš„å˜é‡å¿…å®šæ˜¯ä¸€ä¸ªå¯é€‰ç±»å‹, å› ä¸ºåªæœ‰å¯é€‰ç±»å‹æ‰èƒ½è®¾ç½®ä¸ºnil
weak var weakP:Person2? = Person2(name: "lnj")
if let p = weakP{
    print(p)
}else
{
    print(weakP)
}


/*
unownedæ— ä¸»å¼•ç”¨ , ç›¸å½“äºOC unsafe_unretained
unownedå’Œweakçš„åŒºåˆ«: 
1.åˆ©ç”¨unownedä¿®é¥°çš„å˜é‡, å¯¹è±¡é‡Šæ”¾åä¸ä¼šè®¾ç½®ä¸ºnil. ä¸å®‰å…¨
  åˆ©ç”¨weakä¿®é¥°çš„å˜é‡, å¯¹è±¡é‡Šæ”¾åä¼šè®¾ç½®ä¸ºnil
2.åˆ©ç”¨unownedä¿®é¥°çš„å˜é‡, ä¸æ˜¯å¯é€‰ç±»å‹
  åˆ©ç”¨weakä¿®é¥°çš„å˜é‡, æ˜¯å¯é€‰ç±»å‹
ä»€ä¹ˆæ—¶å€™ä½¿ç”¨weak?
ä»€ä¹ˆæ—¶å€™ä½¿ç”¨unowned?
*/

class Person3 {
    var name:String
    init(name:String){
        self.name = name
    }
    deinit{
        print("deinit")
    }
}
unowned var weakP3:Person3 = Person3(name: "lnj")


/*
å¾ªç¯å¼•ç”¨
ARCä¸æ˜¯ä¸‡èƒ½çš„, å®ƒå¯ä»¥å¾ˆå¥½çš„è§£å†³å†…å­˜é—®é¢˜, ä½†æ˜¯åœ¨æŸäº›åœºåˆä¸èƒ½å¾ˆå¥½çš„è§£å†³å†…å­˜æ³„éœ²é—®é¢˜
ä¾‹å¦‚ä¸¤ä¸ªæˆ–å¤šä¸ªå¯¹è±¡ä¹‹é—´çš„å¾ªç¯å¼•ç”¨é—®é¢˜
*/

class Person4 {
    let name:String // å§“å
    // äººä¸ä¸€å®šæœ‰å…¬å¯“
    weak var apartment: Apartment? // å…¬å¯“
    init(name:String){
        self.name = name
    }
    deinit{
        print("\(self.name) deinit")
    }
}
class Apartment {
    let number: Int // æˆ¿é—´å·
    var tenant: Person4? // ç§Ÿå®¢
    init(number:Int){
        self.number = number
    }
    deinit{
        print("\(self.number) deinit")
    }
}
var p4:Person4? = Person4(name: "lnj")
var a4:Apartment? = Apartment(number:888)

p4!.apartment = a4 // äººæœ‰ä¸€å¥—å…¬å¯“
a4!.tenant = p4! // å…¬å¯“ä¸­ä½ç€ä¸€ä¸ªäºº

// ä¸¤ä¸ªå¯¹è±¡æ²¡æœ‰è¢«é”€æ¯, ä½†æ˜¯æˆ‘ä»¬æ²¡æœ‰åŠæ³•è®¿é—®ä»–ä»¬äº†. å†…å­˜æ³„éœ²
p4 = nil
a4 = nil



class Person5 {
    let name:String // å§“å
    // äººä¸ä¸€å®šæœ‰ä¿¡ç”¨å¡
    var card: CreditCard?
    init(name:String){
        self.name = name
    }
    deinit{
        print("\(self.name) deinit")
    }
}
class CreditCard{
    let number: Int
    // ä¿¡ç”¨å¡å¿…é¡»æœ‰æ‰€å±ç”¨æˆ·
    // å½“æŸä¸€ä¸ªå˜é‡/å¸¸é‡å¿…é¡»æœ‰å€¼, ä¸€ç›´æœ‰å€¼, é‚£ä¹ˆå¯ä»¥ä½¿ç”¨unownedä¿®é¥°
    unowned let person: Person5
    init(number:Int, person: Person5){
        self.number = number
        self.person = person
    }
    deinit{
        print("\(self.number) deinit")
    }
}
var p5:Person5? = Person5(name: "lnj")
var cc:CreditCard? = CreditCard(number: 8888888, person: p5!)
p5 = nil
cc = nil


```
